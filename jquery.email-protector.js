(function(){var a;a=jQuery,a.fn.extend({emailProtector:function(b){var c;return c={"preserve-text":!1},c=a.extend(c,b),this.each(function(){var b,d,e,f,g;return b=a(this),d=b.attr("data-email-protector").split("|"),e=b.attr("data-email-protector-preserve-text")?"false"!==b.attr("data-email-protector-preserve-text"):c["preserve-text"],2===d.length?((g=d[1].match(/(\?.+)/))&&(f=g[1],d[1]=d[1].substring(0,d[1].indexOf("?"))),e||b.text(d[0]+"@"+d[1]),b.attr("href","mailto:"+d[0]+"@"+d[1]+(null!=f?f:""))):b.text('Invalid format. eg. <a data-email-protector="foo|bar.com"></a> will become <a href="mailto:foo@bar.com"></a>.')})}})}).call(this);